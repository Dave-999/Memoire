%%%%%%%%%%%%%%%%%%%%%%%
%% Memoire - granulom�trie %%
%%%%%%%%%%%%%%%%%%%%%%%
%% Script affichant les graphes de distributions de granulom�trie
clear all
close all

%10 aout 2017 (pas de tamisage)
P0=[0, 0.0003736111111,0.004963888889,0.01472222222,0.023,0.028,0.03036111111,...
    0.03036111111,0.02872222222,0.02580555556,0.02252777778,...
    0.01944444444,0.01616666667,0.01416666667,0.01336111111,...
    0.01416666667,0.01644444444,0.02108333333,0.02816666667,...
    0.03788888889,0.05116666667,0.06852777778,0.08852777778,...
    0.11,0.14,0.1644444444,0.1944444444,0.23,0.2636111111,0.3044444444,...
    0.3580555556,0.4280555556,0.5352777778,0.6961111111,0.9261111111,...
    1.251388889,1.695833333,2.281111111,3.038333333,3.983611111,...
    5.132777778,6.471111111,7.928611111,9.331666667,10.4,10.69166667,...
    10.01833333,8.349444444,6.101944444,3.884444444,2.139722222,1.022222222,...
    0.4611111111,0.27,0.2472222222,0.2155555556,0.08922222222,0.0078];

D0=[0 0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7];

%23 octobre 2017 (+ tamisage)
P1=[0, 0.0003380555556,0.004525,0.01344444444,0.02152777778,0.02716666667,...
    0.03116666667,0.03308333333,0.03252777778,0.03052777778,0.02763888889,...
    0.02444444444,0.022,0.01980555556,0.01808333333,0.01808333333,0.01908333333,...
    0.02016666667,0.02252777778,0.02525,0.02980555556,0.03625,0.04625,...
    0.06088888889,0.08097222222,0.11,0.1463888889,0.1908333333,0.2408333333,...
    0.3072222222,0.3772222222,0.45,0.54,0.6480555556,0.7744444444,0.9352777778,...
    1.145277778,1.421666667,1.781666667,2.249722222,2.829722222,3.544166667,...
    4.386944444,5.337777778,6.354166667,7.371666667,8.285555556,8.973888889,...
    9.254166667,8.916944444,7.826111111,6.106944444,4.167777778,2.490277778,...
    1.289166667,0.5225,0.1352777778,0.0411,0.05972222222,0.07027777778,...
    0.03016666667,0.002422222222];

D1=[0, 0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7];

%12 janvier 2018 (+tamisage)

P2a=[0, 0.005363888889,0.01010833333,0.01627777778,0.02136111111,...
    0.02536111111,0.028,0.029,0.02891666667,0.02736111111,0.02563888889,...
    0.02236111111,0.02008333333,0.018,0.016,0.01572222222,0.01652777778,...
    0.01772222222,0.01980555556,0.02180555556,0.02444444444,0.02644444444,...
    0.02852777778,0.03152777778,0.03652777778,0.04497222222,0.05869444444,...
    0.07986111111,0.11,0.1480555556,0.2016666667,0.2644444444,0.3416666667,...
    0.4280555556,0.5288888889,0.6488888889,0.7933333333,0.9561111111,1.160555556,...
    1.413333333,1.720555556,2.113333333,2.586944444,3.165277778,3.848055556,...
    4.630833333,5.499166667,6.395555556,7.245,7.980555556,8.500833333,8.662777778,...
    8.304722222,7.305555556,5.747222222,3.976944444,2.4175,1.254444444,...
    0.4933333333,0.1267222222,0.05324722222,0.09388888889,0.1191666667,...
    0.05488888889,0.004802777778];

D2ap=[0 0.375,0.412,0.452,0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7];

%9 janvier 2018 (pas de tamisage)
P2p=[0, 0.005372222222,0.009902777778,0.016,0.02136111111,0.025,0.02763888889,...
    0.02863888889,0.028,0.02672222222,0.02463888889,0.022,0.01963888889,0.018,...
    0.017,0.01780555556,0.01944444444,0.02152777778,0.02472222222,0.02725,...
    0.02952777778,0.03125,0.03225,0.03325,0.03661111111,0.04233333333,...
    0.05405555556,0.07441666667,0.1044444444,0.15,0.2044444444,0.2772222222,...
    0.3672222222,0.48,0.6072222222,0.76,0.9408333333,1.15,1.402777778,1.7,...
    2.06,2.484444444,2.995277778,3.579722222,4.261388889,5.022222222,5.8275,...
    6.606666667,7.297777778,7.827222222,8.128333333,8.114166667,7.6625,...
    6.654444444,5.176388889,3.554444444,2.149722222,1.103888889,0.4,...
    0.07219444444,0.01770833333,0.04333333333,0.04694444444,0.01263888889,...
    0.0006138888889];

%13 mars 2018 (+tamisage)??
P4=[0 0.005277778,0.009952778,0.016083333,0.021083333,0.024888889,...
    0.027527778,0.028888889,0.028444444,0.027166667,0.025166667,0.022722222,...
    0.020722222,0.018916667,0.018,0.017555556,0.018638889,0.020638889,...
    0.022361111,0.024444444,0.025805556,0.02625,0.026611111,0.027611111,...
    0.030694444,0.037527778,0.049805556,0.070972222,0.104444444,0.15,0.21,...
    0.284444444,0.374444444,0.484444444,0.608055556,0.7525,0.916111111,...
    1.110555556,1.330555556,1.596944444,1.916944444,2.299722222,2.756944444,...
    3.306111111,3.948055556,4.679166667,5.476666667,6.292222222,7.061666667,...
    7.729166667,8.204722222,8.365555556,8.038055556,7.090555556,5.601111111,...
    3.906388889,2.405277778,1.278055556,0.522777778,0.148722222,0.065480556,...
    0.104722222,0.13,0.059222222,0.005272222];

D4=D2ap;

%21 f�vrier 2018 (+tamisage)??

P3 =[0 0.003608333,0.006666667,0.010666667,0.013996111,0.018905556,...
    0.025944444,0.030583333,0.033305556,0.03375,0.032083333,0.029222222,...
    0.026333333,0.023416667,0.022583333,0.023361111,0.026055556,0.031,...
    0.036944444,0.043083333,0.049055556,0.053583333,0.056583333,0.058972222,...
    0.062444444,0.068111111,0.079861111,0.099388889,0.130833333,0.172777778,...
    0.23,0.3,0.386388889,0.486388889,0.597222222,0.723611111,0.864444444,...
    1.036388889,1.246388889,1.501666667,1.821666667,2.221666667,2.698888889,...
    3.274444444,3.948055556,4.713611111,5.555555556,6.4175,7.226666667,...
    7.926666667,8.415833333,8.556666667,8.196388889,7.196388889,5.654444444,...
    3.9625,2.349166667,0.972777778,0.196944444,0.009380556 0 0];

D3 =[0 0.375,0.412,0.452,0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89 85 90];


%17 avril 2018 (+tamisage)
P5 =[0 0.0065,0.011916667,0.019861111,0.025703333,0.031180556,0.035405556,...
    0.038,0.03775,0.036416667,0.033083333,0.029027778,0.02525,0.021277778,...
    0.019305556,0.0185,0.019333333,0.021333333,0.024694444,0.027777778,...
    0.030222222,0.032666667,0.034194444,0.036083333,0.040888889,0.050333333,...
    0.067944444,0.096388889,0.140833333,0.200833333,0.286111111,0.389722222,...
    0.516944444,0.672222222,0.849444444,1.056666667,1.295555556,1.57,1.887222222,...
    2.254444444,2.677222222,3.160833333,3.699166667,4.301111111,4.955833333,...
    5.651666667,6.338333333,6.935,7.353611111,7.543055556,7.476944444,...
    7.120833333,6.431666667,5.346111111,3.965,2.593611111,1.513055556,...
    0.736388889,0.200833333,0.014 0 0];

D5=D3;

%Poudre neuve
PN = [0 0.006786111,0.012641667,0.020611111,0.027384444,0.031872222,...
    0.035944444,0.037805556,0.0375,0.035833333,0.032722222,0.028722222,...
    0.024361111,0.021194444,0.018583333,0.017416667,0.017083333,0.018833333,...
    0.02175,0.024583333,0.027666667,0.031305556,0.034472222,0.038916667,...
    0.045638889,0.055444444,0.071694444,0.096333333,0.13,0.176388889,...
    0.237222222,0.314444444,0.405277778,0.511666667,0.637222222,...
    0.781666667,0.948055556,1.146111111,1.378888889,1.6625,1.999722222,...
    2.407777778,2.901388889,3.471388889,4.138611111,4.880555556,5.666111111,...
    6.448055556,7.162777778,7.745833333,8.130555556,8.214444444,7.838055556,...
    6.876111111,5.387777778,3.721111111,2.242777778,1.131944444,0.375833333,...
    0.050555556,0.001530556];

DN = [0 0.375,0.412,0.452,0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09];   

%Poudre neuve �tuv�e � 80�C pendant 1h
PNE80= [0 0.003836111,0.007111111,0.011388889,0.015041944,0.018883333,...
    0.022916667,0.025638889,0.026805556,0.026611111,0.025694444,0.024333333,...
    0.022694444,0.021333333,0.021416667,0.022333333,0.024888889,0.027972222,...
    0.03225,0.036527778,0.039888889,0.042611111,0.044888889,0.047611111,0.05225,...
    0.060777778,0.075944444,0.098333333,0.134444444,0.184444444,0.244444444,0.3225,...
    0.416111111,0.524166667,0.646111111,0.790555556,0.951388889,1.145833333,...
    1.375833333,1.653055556,1.989444444,2.394722222,2.881111111,3.451944444,...
    4.103888889,4.838333333,5.623888889,6.398611111,7.108888889,7.698333333,...
    8.100555556,8.205277778,7.853611111,6.900833333,5.401666667,3.714166667,...
    2.235555556,1.142777778,0.412222222,0.0795,0.031488889,0.074166667,...
    0.081388889,0.023555556,0.001266667];


DNE= [0 0.375,0.412,0.452,0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7];


%Poudre neuve �tuv�e � 100�C pendant 1h
PNE100 = [0 0.004658333,0.008666667,0.014083333,0.018491389,0.022311111,...
    0.025972222,0.028638889,0.029111111,0.0285,0.026444444,0.023916667,...
    0.021666667,0.020222222,0.0195,0.020222222,0.023027778,0.026361111,...
    0.030805556,0.035055556,0.039305556,0.041944444,0.04475,0.047305556,...
    0.052222222,0.060055556,0.073888889,0.096138889,0.129166667,0.176388889,...
    0.236388889,0.312777778,0.405555556,0.511944444,0.634722222,0.775555556,...
    0.939166667,1.135555556,1.363611111,1.647222222,1.984444444,2.391666667,...
    2.876944444,3.451388889,4.112222222,4.850277778,5.640277778,6.4175,...
    7.131388889,7.723333333,8.123611111,8.239166667,7.881944444,6.915833333,...
    5.401388889,3.700555556,2.235833333,1.158333333,0.432777778,0.08375,...
    0.020080556,0.036944444,0.031666667,0.007722222,0.000388889];

xx=linspace(0,100,1000)
P0s = spline(D0,P0,xx);%10 aout 2017 (pas de tamisage)
P1s = spline(D1,P1,xx);%23 octobre 2017 (+ tamisage)
P2as = spline(D2ap,P2a,xx);%12 janvier 2018 (+tamisage)
P2ps = spline(D2ap,P2p,xx);%9 janvier 2018 (pas de tamisage)
P3s = spline(D3,P3,xx);%21 f�vrier 2018 (+tamisage)??
P4s = spline(D4,P4,xx);%13 mars 2018 (+tamisage)??
P5s = spline(D5,P5,xx);%17 avril 2018 (+tamisage)
PNs= spline(DN,PN,xx);%Poudre neuve
PNE80s = spline(DNE,PNE80,xx);%Poudre neuve �tuv�e � 80�C pendant 1h
PNE100s = spline(DNE,PNE100,xx);%Poudre neuve �tuv�e � 100�C pendant 1h
%plot(xx,P0s,'--')
hold on
plot(xx,P1s,'r')
hold on
%plot(xx,P2as,'k')
plot(xx,P2ps,'k')
plot(xx,P3s,'m')
plot(xx,P4s,'g')
plot(xx,P5s,'b')
%plot(xx,PNs)
%plot(xx,PNE80s)
%plot(xx,PNE100s)
legend('23{th} October 2017','9{th} January 2018','21{st} February 2018','13{th} March 2018','17{th} April 2018')%TOUT
xlabel('Diameter [\mu m]')
ylabel('Percentage [%]')
xlim([0 92]);

% figure;
% plot(xx,PNs)
% hold on
% plot(xx,PNE80s)
% plot(xx,PNE100s)
% legend('Poudre neuve','Poudre neuve �tuv�e � 80�C','Poudre neuve �tuv�e � 100�C')%Neuve
% xlabel('Diam�tre [\mu m]')
% ylabel('Pourcentage [%]')
% xlim([0 90])

%figure;
%plot(xx,PNs)
%hold on
%plot(xx,PNE80s)
%plot(xx,PNE100s)
%plot(xx,P1s)
%plot(xx,P5s)
%legend('Poudre neuve','Poudre neuve �tuv�e � 80�C','Poudre neuve �tuv�e � 100�C', 'Batch du 23 octobre', 'Batch du 17 avril')%Comp
%xlabel('Diam�tre [\mu m]')
%ylabel('Pourcentage [%]')
%xlim([0 90])

