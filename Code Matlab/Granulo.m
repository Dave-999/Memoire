%%%%%%%%%%%%%%%%%%%%%%%
%% BATCH 2 - Memoire %%
%%%%%%%%%%%%%%%%%%%%%%%
%% Script affichant l'évolution de la granulométrie
close all

D0=[0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7]

P0=[0.000365,0.00485,0.0145,0.0225,0.0275,0.03,0.03,0.0285,0.026,0.023,...
    0.02,0.017,0.015,0.014,0.015,0.017,0.0215,0.0285,0.038,0.051,...
    0.0685,0.0885,0.11,0.14,0.165,0.195,0.23,0.265,0.305,0.36,0.43,...
    0.54,0.705,0.935,1.265,1.715,2.305,3.065,4.015,5.16,6.5,7.95,9.34,...
    10.4,10.65,9.96,8.3,6.06,3.85,2.115,1.01,0.46,0.275,0.255,0.215,0.086,0.0073]

D1=[0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7]

P1=[0.000335,0.0045,0.0135,0.0215,0.027,0.031,0.033,0.0325,0.0305,0.0275,...
    0.0245,0.022,0.02,0.018,0.018,0.019,0.02,0.0225,0.025,0.0295,0.036,...
    0.046,0.0605,0.0805,0.11,0.145,0.19,0.24,0.305,0.375,0.445,0.535,...
    0.645,0.77,0.93,1.14,1.415,1.775,2.245,2.825,3.545,4.39,5.345,6.365,...
    7.385,8.3,8.99,9.265,8.925,7.83,6.11,4.17,2.495,1.295,0.53,0.135,...
    0.0356,0.0455,0.05,0.0215,0.0017]

D2ap=[0.375,0.412,0.452,0.496,0.545,0.598,0.656,0.721,0.791,0.868,0.953,1.047,1.149,1.261,1.385,...
    1.52,1.668,1.832,2.011,2.207,2.423,2.66,2.92,3.205,3.519,3.863,4.24,...
    4.655,5.11,5.61,6.158,6.76,7.421,8.147,8.943,9.817,10.78,11.83,12.99,...
    14.26,15.65,17.18,18.86,20.7,22.73,24.95,27.39,30.07,33.01,36.24,39.78,...
    43.67,47.94,52.62,57.77,63.41,69.61,76.42,83.89,92.09,101.1,111,121.8,133.7]

P2a=[0.00525,0.00975,0.0155,0.021,0.0245,0.027,0.028,0.0275,0.0265,0.0245,0.022,...
0.0195,0.018,0.017,0.018,0.0195,0.0215,0.0245,0.027,0.029,0.031,0.032,...
0.033,0.0365,0.0425,0.0545,0.075,0.105,0.15,0.205,0.275,0.365,0.475,...
0.6,0.75,0.93,1.135,1.385,1.68,2.04,2.465,2.98,3.57,4.26,5.03,5.845,...
6.63,7.325,7.855,8.15,8.125,7.665,6.65,5.17,3.55,2.145,1.1,0.395,...
0.0715,0.02335,0.06,0.065,0.0175,0.00085]

P2p=[0.00515,0.00965,0.0155,0.0205,0.0245,0.027,0.028,0.028,0.0265,...
    0.025,0.022,0.02,0.018,0.016,0.016,0.017,0.018,0.02,0.022,0.0245,...
    0.0265,0.0285,0.0315,0.0365,0.045,0.059,0.0805,0.11,0.15,0.205,...
    0.265,0.345,0.43,0.53,0.65,0.795,0.955,1.16,1.41,1.715,2.105,...
    2.575,3.15,3.83,4.61,5.475,6.375,7.225,7.965,8.49,8.655,8.3,7.305,...
    5.75,3.98,2.425,1.265,0.51,0.145,0.0725,0.13,0.165,0.076,0.00665]

xx=linspace(0,100,1000)
P0s = spline(D0,P0,xx);
P1s = spline(D1,P1,xx);
P2as = spline(D2ap,P2a,xx);
P2ps = spline(D2ap,P2p,xx);
plot(xx,P0s,'--')
hold on
plot(xx,P1s)
hold on
plot(xx,P2as)
plot(xx,P2ps,'--')

legend('10 aout 2017 - 1 job (pas de tamisage)','23 octobre 2017 - 2 jobs (+ tamisage)','15 février 2018 - 4 jobs (+tamisage)','15 février 2018 - 5 jobs (pas de tamisage)')
xlabel('Diamètre [\mu m]')
ylabel('Pourcentage [%]')